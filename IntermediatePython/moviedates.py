#find -size +300M -not -iname "Game*" -printf '%T+\n' > moviedates
import pylab as pl
from collections import Counter
datetime = ['2011-12-07+12:52:30.2418460000',
'2012-04-21+21:16:31.0008350000',
'2012-03-12+16:06:33.3107310000',
'2012-02-20+21:39:46.9344130000',
'2012-08-29+15:42:43.1153350000',
'2012-02-15+15:49:59.6475600000',
'2012-05-02+08:51:12.0283480000',
'2012-04-21+12:01:20.0378610000',
'2012-05-16+20:23:09.6871760000',
'2012-08-31+19:07:04.6080800000',
'2012-04-28+13:03:39.7369440000',
'2012-08-19+16:58:43.1766360000',
'2012-08-30+22:08:53.1748640000',
'2012-02-05+23:10:41.7673080000',
'2012-02-25+11:54:49.3197680000',
'2012-08-30+17:04:40.2120590000',
'2012-02-13+12:58:16.3994300000',
'2012-04-20+13:36:14.1126670000',
'2012-03-03+12:54:06.4379160000',
'2012-04-29+19:15:06.3451340000',
'2012-03-24+20:20:25.3826220000',
'2012-02-23+10:45:47.0532070000',
'2012-02-19+21:53:36.4038130000',
'2012-01-19+14:17:12.4583820000',
'2012-02-26+13:27:14.5672340000',
'2012-02-26+13:27:14.7294570000',
'2011-09-26+16:12:20.0283239000',
'2012-02-15+14:33:36.6934010000',
'2012-06-27+14:26:37.6967520000',
'2012-03-05+15:56:07.4134800000',
'2012-05-11+10:38:20.1511780000',
'2012-05-11+13:15:13.2300150000',
'2012-02-23+12:40:05.9358990000',
'2012-02-22+23:15:23.7939130000',
'2012-05-20+22:40:53.9874280000',
'2012-05-20+22:46:15.2558130000',
'2012-01-19+15:01:41.5891640000',
'2012-06-17+17:47:55.5319040000',
'2012-02-06+15:01:55.7489960000',
'2012-08-21+21:08:32.2117980000',
'2012-04-28+10:45:56.6418410000',
'2012-07-25+19:25:35.7219240000',
'2012-06-30+11:44:08.2356160000',
'2012-07-01+17:34:30.6814530000',
'2012-07-01+17:34:18.9263080000',
'2012-07-01+17:34:18.4152280000',
'2012-07-01+17:30:25.4460200000',
'2012-03-13+17:55:40.1508420000',
'2012-09-01+15:45:57.8474560000',
'2012-05-06+19:48:07.1831750000',
'2012-03-21+14:19:20.5846630000',
'2012-03-28+13:15:31.5384450000',
'2012-07-31+20:47:52.6916860000',
'2012-05-17+15:01:31.0034210000',
'2012-03-06+16:19:09.4011370000',
'2012-02-24+15:52:51.5715860000',
'2012-03-09+20:03:00.6181580000',
'2012-02-28+21:57:25.7404210000',
'2012-03-07+15:28:18.1042660000',
'2012-03-02+21:42:21.1787270000',
'2012-03-06+18:58:00.2278210000',
'2012-08-30+14:37:32.1881710000',
'2012-02-26+22:09:14.8178900000',
'2012-06-03+17:13:02.9818210000',
'2012-05-09+12:27:00.8134940000',
'2012-08-02+19:43:02.4490870000',
'2012-07-25+15:32:05.8442050000',
'2012-07-25+15:32:00.9352930000',
'2012-07-25+15:32:53.6176950000',
'2012-03-06+23:31:32.0553830000',
'2012-06-21+22:42:33.6188800000',
'2012-06-25+19:46:05.3303390000',
'2012-06-26+19:52:22.7164200000',
'2012-02-13+16:12:38.7579290000',
'2012-08-09+15:58:36.4658190000']
months = [int(i.split('-')[1]) for i in datetime]
days = [int(i.split('-')[2][0:2]) for i in datetime]
daysinmonths = [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31]
totaldays = sorted([sum(daysinmonths[0:months[i]-1])+days[i] for i in range(len(months))])
movies = Counter(totaldays)
for i in range(1,342):
	if i not in totaldays:
		movies.update({i:0})
movies = sorted(movies.items())
totaldays = zip(*movies)[0]
movies = zip(*movies)[1]
prop_mov = sum([1 for i in movies if i])/float(len(movies))
prop_mov_yesterday = sum([1 for i in range(len(movies)) if movies[i-1]!=0])/float(len(movies))
cond_prop_mov = (sum([1 for i in range(len(movies)) if movies[i-1]!=0 and movies[i]!=0])/float(len(movies)))/prop_mov_yesterday
prop_see_more = (sum([1 for i in range(len(movies)) if movies[i]>1 and movies[i]!=0])/float(len(movies)))/prop_mov
print 'Probability of having seen a movie a particular day is %f' %(prop_mov)
print 'Probability of seeing a movie given that I saw at least one movie the day before is %f' %(cond_prop_mov)
print 'Probability of seeing more than one movie given that I have already seen one is %f' %(prop_see_more)
pl.plot(totaldays, movies, '-')

# smoothing = [movies[0]]
# for i in xrange(1,len(movies)):
# 	smoothing.append(0.6*movies[i-1] + 0.4*smoothing[i-1])
# pl.plot(totaldays, smoothing,'-')
# pl.ylim(-1,5)
pl.savefig('movieclusters.png')